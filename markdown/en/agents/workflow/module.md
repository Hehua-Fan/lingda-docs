---
title: Modules
---

This article will introduce the functions and usage methods of various core modules in the Agents platform. Through the reasonable combination and arrangement of modules, users can build agents with rich functionality and clear logic, achieving capabilities such as natural language understanding, information processing, document parsing, and multimodal interaction.

Module divisions cover multiple dimensions including user input, AI processing, information response, knowledge base invocation, visual recognition, and multi-Agent linkage. Mastering the functions and parameter configurations of each module will help you design intelligent agents more efficiently and meet the needs of various complex business scenarios.

* Reference link: [Built-in Functions/Variables Description](https://uxkpl4cba3j.feishu.cn/wiki/WBFkwSv27ig0SvkxKvDc6bAsn8d)

# User Question (Entry)

During the conversation process, we often need to get the user's questions to understand user intent. With the "User Question" module, you can get user questions/selection content and transfer the content to other modules.

<center>
<img src='/img/en/agents/workflow/module/1.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | The current component executes only when "all upstream conditions are True". |
| Any Activation | Boolean | The current component executes when "any upstream condition is True". |
| Input Text | String | Allows users to input text, outputting to the "Text Information" node. |
| Upload Document | String | Allows uploading multiple documents (each up to 50MB), supporting `.pdf`, `.doc`, `.docx` formats. |
| Upload Image | String | Allows uploading multiple images (each up to 30MB), supporting `.pdf`, `.doc`, `.docx` formats. |
| Document Review | String | Enables document comparison functionality, comparing uploaded documents with specified documents. |
| Add Button | - | Add triggerable buttons that can serve as entry points for executing actions. |
| Button Not Clicked | Boolean | Used to determine whether a user has clicked a button, for flow control. |
| Button Node | Boolean | Starts downstream process after button click; if not clicked, not triggered. |
| Module Execution Completed | Boolean | True when the current module execution is complete, used for flow control. |


# Large Models
## Intelligent Dialogue

The intelligent dialogue module leverages AI capabilities to process content sent by users through a large language model and reply to users with specified content.

<center>
<img src='/img/en/agents/workflow/module/2.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the current component when all upstream conditions are True. |
| Any Activation | Boolean | Activates the current component when any upstream condition is True. |
| Information Input | String | Receives upstream text as input for the large model. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Receives results from the knowledge base search component. |
| Chat Context | - | Provides 0-6 historical records to help the model understand the context. |
| Model Selection | - | Select the large language model used by the current module. |
| System Prompt | - | Use natural language to describe the task for the model to execute. |
| Reply Visible to User | Boolean | Module executes but does not display reply content, used for intermediate processes. |
| Reply Creativity | - | Controls the degree of divergence and diversity of the model's reply. |
| Reply Character Limit | - | Limits the number of characters in the model's reply. |
| Reply End | Boolean | Outputs "yes/no", marking whether the module has ended. |
| Reply Content | String | The reply generated by the model, available for user viewing or module use. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering downstream processes. |


## Confirmed Reply

When you need to reply specific content to the user, you can use the confirmed reply module, and the user will directly receive the content in the text box. If the reply content node links to an external information source, the linked information will override the input box information.

<center>
<img src='/img/en/agents/workflow/module/3.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Reply Visible to User | - | Module executes but does not display the reply, suitable for intermediate processes. |
| Reply Content (Input) | String | Uses input content when there is input, takes text box content output when there is no input. |
| Reply Content (Output) | String | Outputs the above content, can connect to different nodes to display different content. |
| Module Execution Completed | Boolean | Outputs True after module completion, used to trigger downstream processes. |
 

## Information Classification 

With the intelligent analysis of AI, user questions can be classified, and different operations can be performed for different types of questions, facilitating personalized processing.

<center>
<img src='/img/en/agents/workflow/module/4.jpg' width=100%></img>
</center>


| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Information Input | String | Input text as input for the large model. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Receives results returned from the knowledge base search module. |
| Chat Context | - | Provides 0-6 historical conversations to help the model understand user intent. |
| Model Selection | - | Specifies the large language model used by the current module. |
| System Prompt | - | Uses natural language to describe the objective of the model processing task. |
| Add Tags | - | Classifies and extracts content based on prompts and tags, outputs multiple tags for subsequent processes. |
| Tag Hit (Output) | Boolean | If content hits the set tag, outputs True, otherwise False. |
| Classification Result (JSON) | String | Outputs classification results in JSON format. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering downstream processes. |


## Information Extraction 

- Through AI's understanding of semantics, target information can be extracted from input information
- Commonly used to extract search keywords, SQL statements, etc., can be combined with API, tools, and application modules to implement complex functionality

<center>
<img src='/img/en/agents/workflow/module/5.jpg' width=100%></img>
</center>


| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Information Input | String | Upstream text as input for the large language model. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Receives results from the knowledge base search component. |
| Chat Context | - | Provides 0-6 historical records to enhance model understanding. |
| Model Selection | - | Specifies the large language model used by the current module. |
| System Prompt | - | Natural language description of the model task. |
| Extract Fields | - | Configure multiple fields for model recognition (such as city, whether field, etc.). |
| Complete Extraction | Boolean | True when user's reply contains all fields (including required + optional). |
| All Required Fields Extracted | Boolean | True when user's reply contains all required fields. |
| Extraction Missing | Boolean | True when user's reply is missing some required fields. |
| All Extraction Results | String | Outputs all fields and their values in JSON format for subsequent modules. |
| Extraction Result - xxx | String | Outputs the extraction value of field "xxx". |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering subsequent processes. |


## Information Processing  

Process information through prompts to obtain content that meets requirements.

<center>
<img src='/img/en/agents/workflow/module/6.jpg' width=100%></img>
</center>


| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Information Input | String | Upstream output as input for the large model. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Receives results from the knowledge base search component. |
| Chat Context | - | Provides 0-6 chat records to help understand user intent. |
| Model Selection | - | Specifies the large language model to use. |
| System Prompt | - | Natural language instructions describing the large model processing task. |
| Reply End | Boolean | Outputs "yes/no", indicating whether the current reply has ended. |
| Processing Result | String | Outputs the content result after large model processing. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering downstream processes. |


# Knowledge Base
## Knowledge Base Search  

For common user questions, questions can be added to the knowledge base for easy search and retrieval. For the "Knowledge Base" module, this module can input user questions, search for related questions and answers in the knowledge base, and output in natural language.

<center>
<img src='/img/en/agents/workflow/module/7.jpg' width=100%></img>
</center>


| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Information Input | String | Upstream text as input for the large model. |
| Associated Knowledge Base | - | Select knowledge sources, used for search retrieval. |
| Similarity Threshold | - | Set similarity threshold, fragments below threshold will be filtered. |
| Vector Similarity Weight | - | Set weight for similarity calculation, controlling vector retrieval precision. |
| Recall Count | - | Set the maximum number of related text segments that can be recalled. |
| Enable Reranking | Boolean | Whether to rerank based on semantic relevance between user questions and fragments. |
| Reranking Model | - | Set the model used for reranking. |
| Reranking Recall Count | - | Maximum number of fragments retained after rerank. |
| No Relevant Knowledge Found | Boolean | Processing marker when no knowledge is recalled. |
| Relevant Knowledge Found | Boolean | Processing marker when knowledge is successfully recalled. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Returns recalled knowledge results for subsequent use. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering downstream processes. |


## Store to Knowledge Base

<center>
<img src='/img/en/agents/workflow/module/8.jpg' width=100%></img>
</center>

# Multimodal

## Image Question  

Supports users uploading images and, with the help of visual models' image recognition capabilities, replies to question information about the images.

<center>
<img src='/img/en/agents/workflow/module/9.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Information Input | String | Upstream text as input for the large model. |
| Associated Knowledge Base | - | Select knowledge sources, used for search retrieval. |
| Similarity Threshold | - | Set similarity threshold, fragments below threshold will be filtered. |
| Vector Similarity Weight | - | Set weight for similarity calculation, controlling vector retrieval precision. |
| Recall Count | - | Set the maximum number of related text segments that can be recalled. |
| Enable Reranking | Boolean | Whether to rerank based on semantic relevance between user questions and fragments. |
| Reranking Model | - | Set the model used for reranking. |
| Reranking Recall Count | - | Maximum number of fragments retained after rerank. |
| No Relevant Knowledge Found | Boolean | Processing marker when no knowledge is recalled. |
| Relevant Knowledge Found | Boolean | Processing marker when knowledge is successfully recalled. |
| Knowledge Base Search Results | Knowledge Base Search Result Type | Returns recalled knowledge results for subsequent use. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering downstream processes. |


## Document Question  

Supports users uploading documents and directly inputting questions, using large language models to read the documents and reply to users. For example, "Summarize the key points in this document" achieves instant document questioning functionality. Unlike the "Document Review" module, here users can input their own questions, while "Document Review" has preset questions, without the need to input questions here.

<center>
<img src='/img/en/agents/workflow/module/10.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the module when all upstream conditions are True. |
| Any Activation | Boolean | Activates the module when any upstream condition is True. |
| Information Input | String | Usually the user's question about an image, connects upstream output as input for the large model. |
| Document Information | String | Receives uploaded document content, supports pdf, doc, docx, txt formats, maximum 9 files, each ≤ 50MB. |
| Model Selection | - | Specifies the large language model used by the module. |
| System Prompt | - | Natural language instructions describing the task objectives. |
| Reply Visible to User | - | Module executes but does not display reply content, suitable for intermediate processing. |
| Reply Creativity | - | Controls the divergence of the reply, higher values result in more open-ended replies. |
| Reply Character Limit | - | Limits the maximum number of characters in the generated reply. |
| Reply End | Boolean | Outputs "yes/no", identifying whether the module reply has ended. |
| Reply Content | String | Outputs AI reply content, available for user viewing or module use. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering subsequent processes. |


# Document Review 
## Document Review 
Used for document reading and review scenarios, after users upload documents, the model reads the document content and answers a series of preset questions.

<center>
<img src='/img/en/agents/workflow/module/11.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the module when all upstream conditions are True. |
| Any Activation | Boolean | Activates the module when any upstream condition is True. |
| Document Information | String | Connects to document information content uploaded in the "User Question" module. |
| Batch Questions | - | Supports setting multiple questions, generating multiple answers based on document content, maximum 100. |
| Template Addition | - | Import multiple questions via CSV for one-time batch processing. |
| Model Selection | - | Specifies the large language model used by this module. |
| System Prompt | - | Uses natural language to describe the task the model needs to complete. |
| Reply End | Boolean | Outputs "yes/no" when all questions are processed, indicating whether it has ended. |
| Reply Content | String | Outputs content generated by the large model for downstream use. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering subsequent processes. |

## Keyword Recognition

Recognizes whether the document contains relevant keywords

<center>
<img src='/img/en/agents/workflow/module/12.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the module when all upstream conditions are True. |
| Any Activation | Boolean | Activates the module when any upstream condition is True. |
| Document Information | String | Receives uploaded document content, requires enabling the "Document Review" upload entry. |
| Model Selection | - | Specifies the large language model used by the current module. |
| Recognition Rules | - | Batch input sensitive words, support grouping, returns "Contains" if keywords are present, otherwise "Does not contain". |
| Recognition Results | - | Each group returns user-configured result content. |
| Module Execution Completed | Boolean | Outputs True after module completion, triggering subsequent processes. |

# Advanced Capabilities
## Agent Dialogue End 

- This module is needed in multi-Agent linkage scenarios. Only when this module is introduced in an Agent's planning arrangement can this Agent be found in the "Agents" section on the left side of the "Planning" canvas and dragged onto the canvas to achieve linkage between multiple Agents
- Memory variables are temporary variables stored in the current scenario. When appearing as an Agent in other Agents' arrangements, memory variables represent the output parameters of that Agent, enabling cross-Agent references.

<center>
<img src='/img/en/agents/workflow/module/13.jpg' width=100%></img>
</center>

<center>
<img src='/img/en/agents/workflow/module/14.jpg' width=100%></img>
</center>

<p style="text-align: center; color: #666; font-size: 14px; margin-top: 8px;">As an Agent in other canvas planning, this popup will appear for confirmation during execution</p>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Agent Execution End Confirmation | - | Set popup confirmation prompt text for Agent execution end. |
| Execute from Beginning | - | Reset Agent execution record, restart execution from "User Question". |
| Satisfied, Proceed to Next Step | - | After Agent execution, directly enter the next module without repeating the current Agent. |
| Unsatisfied, Re-execute | - | Re-execute the Agent but do not reset the from-beginning process. |
| Add Agent Memory Variables | - | Add boolean, string, search result variables, can be referenced in subsequent modules via `{{key}}`. |


## Add Memory Variables

<center>
<img src='/img/en/agents/workflow/module/15.jpg' width=100%></img>
</center>

## Code Block  

- Process data by adding JavaScript or Python code

<center>
<img src='/img/en/agents/workflow/module/16.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the module when all upstream conditions are True. |
| Any Activation | Boolean | Activates the module when any upstream condition is True. |
| Add Input Parameters | Multiple Types | Set input parameters, can be boolean, string, or knowledge base search results. |
| Language Selection | - | Select code language, supports JavaScript or Python. |
| Code Description | - | Brief description of current processing logic (not required). |
| Code Content | - | Fill in custom function code, supports Key-Value type input/output, key is the input/output parameter name. |
| Add Output Parameters | Multiple Types | Set output parameter types, similar to adding input parameters. |
| Execution Success | Boolean | True when code executes successfully. |
| Execution Exception | Boolean | True when code encounters an exception. |
| Execution Results | String | Outputs all code results, multiple output parameters will be merged into a JSON string. |
| Module Execution Completed | Boolean | Outputs True after execution completion, triggering downstream processes. |


## Information Processing  

- Process data using regular expressions, only supports string type input and output.

<center>
<img src='/img/en/agents/workflow/module/17.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Executes the module when all upstream conditions are True. |
| Any Activation | Boolean | Executes the module when any upstream condition is True. |
| Add Input Parameters | String | Set input parameters to be processed, type is string. |
| Add Output Parameters | Multiple Types | Set output parameters, types can be string, etc. |
| Conversion Rules | - | Set regular expressions to implement conversion between input and output parameters. |
| Module Execution Completed | Boolean | Outputs True when module ends, triggering downstream processes. |

## Loop  

- Loop component is used for loop processes. Users select the processes that need loop processing with the loop component's loop start point and loop end point, initiating the loop process.

<center>
<img src='/img/en/agents/workflow/module/18.jpg' width=100%></img>
</center>

| Parameter Name | Type | Function Description |
|----------------|------|----------------------|
| Joint Activation | Boolean | Activates the module when all upstream conditions are True. |
| Any Activation | Boolean | Activates the module when any upstream condition is True. |
| Information Input | Array of Any Type | Input must be array type, serves as the basic data source for the loop. |
| Element Symbol | - | Records which iteration of the current loop, referenced via `{{xxxx.index}}`. |
| Element Value | - | Current loop element value, referenced via `{{xxxx.item}}`. |
| Array Length | - | Total length of the current array, referenced via `{{xxxx.length}}`. |
| Loop Unit Start Point | Boolean | Module that triggers the start of loop execution. |
| Loop Unit End Point | Boolean | Triggers the next round after the last module in the loop body ends. |
| Module Execution Completed | Boolean | Outputs True when the current module execution ends, triggering downstream processes. |

## Document Output

<center>
<img src='/img/en/agents/workflow/module/19.jpg' width=100%></img>
</center>

## Markdown to Word

<center>
<img src='/img/en/agents/workflow/module/20.jpg' width=100%></img>
</center>

# Database
## Database Query

<center>
<img src='/img/en/agents/workflow/module/21.jpg' width=100%></img>
</center>

## Data Visualization

<center>
<img src='/img/en/agents/workflow/module/22.jpg' width=100%></img>
</center>

## Code Extractor

<center>
<img src='/img/en/agents/workflow/module/23.jpg' width=100%></img>
</center>